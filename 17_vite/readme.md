# vite

## 基本知识

### vite 的构造

> 主要有两个组成部分

- 一个开发服务器, 它基于原生 Es 模块提供了丰富的内建功能, HMR 的速度非常快速
  - connect 比较原生的一个 开启服务的东西
- 一套构建指令, 它使用 rollup 打开我们的代码, 并且他是预配置的, 可以输出生成环境的优化过的静态资源

### vite 入口文件

> index.html

### 基本原理
- 加载 html 文件之后, 重新去 开发服务器去请求 我处理好的文件返回给浏览器
  - 类似加载ts
  - 304 获取到的数据 是js的代码

- 通过对我的静态文件方向进行依赖分析,然后进行相应的处理这样

### ESBuild 解析
> 代替 babel -> 更快(10 - 100倍) 
- 超快的构建速度, 并且不需要缓存
- 支持 es6 & commonjs
- tree shaking
- 支持Go, js的api
- 支持 ts, jsx 
- 支持 sourcemap
- 支持代码压缩
- 支持扩展其他插件

### 其它
- 他会对一些代码进行 预打包 到 .vite 中

## 基本使用

> 如果需要使用 less 直接 npm i less -D 就完事了

### 使用vue
- 需要一些简单的插件进行操作

### 打包
- vite build 
  - 内部使用的是rollup
- vite preview
  - 打包预览